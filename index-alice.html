<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <title>alice</title>

    <script>
        function myFunction() {
            document.getElementById("demo").innerHTML = "Paragraph changed.";
        }
    </script>
    <!-- <script src ="scripts/require.js"></script> -->
    <script src="https://cdn.bootcdn.net/ajax/libs/axios/0.19.2/axios.min.js"></script>
    <script src="./scripts/api.js"></script>
    <script src="./scripts/jquery.min.js"></script>
    <script src="./scripts/dist.js"></script>
    <script src="scripts/bundle.js"></script>
    <script src="scripts/storage.js"></script>

    <script src="scripts/random.js"></script>
    <script src="scripts/device.js"></script>
    <script src="scripts/bootstrap.js"></script>
    <!-- <script src="scripts/stanza.js"></script> -->
    <script src="scripts/arraybuffer.js"></script>
    <!-- <script src="scripts/peer.js"></script> -->
    <script src="scripts/store.js"></script>
    <script src="scripts/omemo.js"></script>
    <script src="scripts/connection.js"></script>
    <!-- <script src="scripts/bundle.js"></script> -->

</head>
<style>
    .root {
        display: flex;
        width: 80%;
    }

    .wrap {
        flex: 1;
    }
</style>

<body class="root">
    <div class="wrap">
        <h1>Welcome to secure chat!</h1>
        <!-- <button type="button" onclick="store('hi', 'ali')">set</button>
        <button type="button" onclick="console.log(retrieve('hi'))">get</button>
        <button type="button" onclick="sendToServer()">get</button> -->
        <p>Username:</p>
        <input id='username' type="text" name="to" value="alice" userId="1000000000"><br>
        <button type="button" onclick="register()">Register</button>
        <br>

        <p>To:</p>
        <input id='to' type="text" name="to" value="bob" userId="2000000000">
        <button type="button" onclick="estConnection()">建立链接</button>
        <br>

        <p>Message:</p>
        <input id='message' type="text" name="message" value="hi!+=/s%^ LL**()\"><br>
        <button type="button" onclick="sendMessage()">Send</button>

        <div id="messages">

        </div>
    </div>
    <!-- <div class="wrap">
        <h1>set Bob Info!</h1>
        <p>设置身份公钥</p>
        <input type="text" id="identifyPubKey">
        <p>设置预共享公钥</p>
        <input type="text" id="prePubKey">
        <p>设置签名公钥</p>
        <input type="text" id="signPubKey">
        <p>设置签名</p>
        <input type="text" id="signature">
        <p>设置密文</p>
        <input type="text" id="ciphertext">
        <button >确定</button>
        <p>明文</p>
        <p id="plaintext"></p>
    </div> -->


</body>
<script>
    let Config = {
        "deviceId": 1000000000,
        "username": "alice",
        "registrationId": 100,
        "identifyKeyPair": {
            "pubKey": "BclRV12FpGeEEZ7N/h9jGQXp27xh/ePHGAkseZKzjz9L",
            "privKey": "6GhpOlK8aGYNumojzbx+cU6WOEFNvqMuHThvYNXRG2U="
        },
        "preKeys": [{
            "pubKey": "BdXERoqndlfCfDzcGVbx1LTAcWnXJ5QmWM7bKNBbpO00",
            "privKey": "GMB4xe/yZfs1McfQy+283OWEFTl+wgoUg20eEwAR/nk="
        }],
        "signedPreKey": {
            "keyId": 1,
            "pubKey": "BWHw+mNBrdMaC0m8fDQcIDXHhn7YOUGo1DydXwibKPZg",
            "privKey": "H/PHVqYRYPGZ3Z5XmQCrXXIrr4WPUns9PAddtQsaHg=",
            "signature": "BjBiSKqGVijQJrUTD/mluEiwmIjAcEmKHnZtg8fMPun7KhUsrSmmgC7T++Sik7DWECbMrlag4hZ9zNVH0VMEAQ=="
        }

    }
</script>
<script src="scripts/index.js"></script>

</html>